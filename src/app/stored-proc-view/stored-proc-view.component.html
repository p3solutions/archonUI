<!-- <div hidden id="openCreateStoredViewmodal" data-toggle="modal" data-target="#modelStoredProcView"></div>
<div class="modal fade " id="modelStoredProcView" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" style="width:600px">
    <div class="modal-content">
      <div class="modal-header">Add Stored Procedures and views
        <button type="button" class="close" data-dismiss="modal" (click)="closeErrorMsg()">&times;</button>        
      </div> 
      <div class="modal-body">
          <h6 class="modal-title"><strong> Primary Table: {{tableName}}</strong></h6>

        <div *ngIf="isSPVAvailable">
        <div class="row" style="display: -webkit-box;">
          <div style="text-transform: uppercase;width:27%"><strong>Stored Procedure(SP)/Views</strong></div>
          <div style="text-transform: uppercase;width:28%"><strong>Relating Tables from SP/View</strong></div>
          <div style="text-transform: uppercase;width: 45%"><strong>Relation between primary and secondary Table</strong></div>
        </div>
        <div class="row">
          <div class="column-one scroll-div border" style="background-color:#fff;">
            <div class="sticky">
              <div><input style="float:left" type="checkbox"></div>
              <div class="first-div">SP/View Name</div>
              <div class="second-div">Type</div>
              <div></div>
            </div>
            <div [ngClass]="{'well-with-blue': item.isBorderSet,'well':!item.isBorderSet,'well-sm':true}" *ngFor="let item of spvInfoListTwo"
              (click)="getTableNameList(item.name)">
              <div><input style="float:left" name="spv{{item.name}}" [(ngModel)]="item.isSPVChecked" (click)="selectSPVName(item.name,$event)" type="checkbox"></div>
              <div class="first-div">{{item.name}}</div>
              <div class="second-div">{{item.type}}</div>
              <div [ngClass]="{'display-icon': !item.isBorderSet}"><i class="fa fa-chevron-right icon-div "></i></div>
            </div>
          </div>
          <div class="column-two scroll-div" style="background-color:#fff;">
            <div class="sticky">
              <div><input style="float:left" type="checkbox"></div>
              <div class="first-div">Table Name</div>
              <div></div>
            </div>
            <div [ngClass]="{'well-with-blue': item.isBorderSet,'well':!item.isBorderSet,'well-sm':true}" *ngFor="let item of spvTableNameList"
              (click)="showSPVRelatedTableName(item)">
              <div><input style="float:left" [(ngModel)]="item.isTableChecked" (change)="selectTableNames(item.tableId)" type="checkbox"></div>
              <div class="first-div-sec-col">{{item.tableName}}</div>
              <div [ngClass]="{'display-icon': !item.isBorderSet}"><i class="fa fa-chevron-right icon-div"></i></div>
            </div>
          </div>
          <div class="column-three scroll-div" style="background-color:#fff;">
            <div class="sticky">
              <div class="div-third-col">Primary column</div>
              <div class="first-div-third-col">Secondary column</div>
              <div class="sec-div-third-col">Data Type</div>
            </div>
            <div class="well well-sm" *ngFor="let item of getRelatingTableList()">
              <div class="div-third-col">{{item.pColumn}}</div>
              <div class="first-div-third-col">{{item.sColumn}}</div>
              <div class="sec-div-third-col">{{item.dataType}}</div>
            </div>
          </div>
          </div>         
        </div>
        <div *ngIf="!isSPVAvailable"><h5>
            No Stored Procedures and views information available
          </h5> </div>
        <div class="modal-footer">
            <div class="col-md-7">         
                <div *ngIf="updateSuccess" class="alert alert-success alert-dismissible m-t-6" role="alert">
                    <button type="button" class="close" (click)="closeErrorMsg()" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                    <strong>New Join Added Successfully</strong>
                  </div>
                  <div *ngIf="updateNotif" class="alert alert-danger alert-dismissible m-t-6" role="alert">
                      <button type="button" class="close" (click)="closeErrorMsg()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                      <strong>{{errorMsg}}</strong>
                    </div> 
                  </div>
          <div class="col-md-5">
              <div class="action-btn">
                   <button class="btn mat-raised-button cancel btn-padding" (click)="closeErrorMsg()" data-dismiss="modal">Close</button>
                  <button class="btn save mat-raised-button btn-padding" [disabled]="disableSubmitBtn" (click)="addSPVJoin();">Add Join</button>
         </div>
        </div>
      </div>
      </div>
    </div>
  </div> -->

  
  <div class="card-body">
    <div class="col-md-12 card-header">
      <div class="col-md-3">
        <div class="card-title">Relationship Info</div>
      </div>
    </div>  
    <div class="body-row">
    <div class="col-md-12" style="margin-bottom: 12px;margin-top: 15px;">
      <div class="back-arrowr" id="da-arrow">
        <a class="arrow" (click)="gotoBack()" mat-tooltip="Back">
          <i class="fa fa-arrow-left fa-lg" aria-hidden="true"></i>
        </a>
      </div>
      <div class="title-header">Stored Procedure (SP) / Views</div>
    </div>    
 
    <div class="container-tab">
      <div class="col-md-12 primary-table">
        <h5 class="card-title sub-headerr">Primary Table:
          <strong>{{tableName}}</strong>
        </h5>
      </div>
    </div>

    <div *ngIf="isSPVAvailable"> 
      <div class="column-one scroll-div border">
        <div class="sticky">
          <div><input style="float:left" type="checkbox"></div>
          <div class="first-div-new">SP / View Name</div>         
        </div>
        <div [ngClass]="{'well-with-blue': item.isBorderSet,'well':!item.isBorderSet,'well-sm':true}" *ngFor="let item of spvInfoListTwo"
          (click)="getTableNameList(item.name)">
          <div><input style="float:left" name="spv{{item.name}}" [(ngModel)]="item.isSPVChecked" (click)="selectSPVName(item.name,$event)" type="checkbox"></div>
          <div class="first-div">{{item.name}}</div>
          <div class="second-div">{{item.type}}</div>
          <div [ngClass]="{'display-icon': !item.isBorderSet}"><i class="fa fa-chevron-right icon-div "></i></div>
        </div>
      </div>
      <div class="column-two scroll-div border">
        <div class="sticky">
          <div><input style="float:left" type="checkbox"></div>
          <div class="first-div-new">Relating Tables</div>         
        </div>
        <div [ngClass]="{'well-with-blue': item.isBorderSet,'well':!item.isBorderSet,'well-sm':true}" *ngFor="let item of spvTableNameList"
          (click)="showSPVRelatedTableName(item)">
          <div><input style="float:left" [(ngModel)]="item.isTableChecked" (change)="selectTableNames(item.tableId)" type="checkbox"></div>
          <div class="first-div-sec-col">{{item.tableName}}</div>
          <div [ngClass]="{'display-icon': !item.isBorderSet}"><i class="fa fa-chevron-right icon-div"></i></div>
        </div>
      </div>
      <div class="column-three scroll-div border">
        <div class="sticky">
          <div class="first-div-new" style="margin-left: -8px;">Primary and Secondary Relative Tables</div>         
        </div>

        <div class="mat-elevation-z8">
        <table mat-table [dataSource]="columnsList"  class="mat-elevation-z4" style="width:99%">
          <ng-container matColumnDef="PrimaryColumn" >
            <th mat-header-cell *matHeaderCellDef style="width: 10%; border-top-left-radius: 3px;"> Primary Column </th>
            <td mat-cell *matCellDef="let element"> {{item.pColumn}} </td>
          </ng-container>

          <ng-container matColumnDef="SecondaryColumn">
            <th mat-header-cell *matHeaderCellDef style="width: 10%"> Secondary Column </th>
            <td mat-cell *matCellDef="let element"> {{item.sColumn}} </td>
          </ng-container>

          <ng-container matColumnDef="DataType">
            <th mat-header-cell *matHeaderCellDef style="width: 10%; border-top-right-radius: 3px;"> Data Type </th>
            <td mat-cell *matCellDef="let element"> {{item.dataType}} </td>
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>
        <!-- <div class="well well-sm" *ngFor="let item of getRelatingTableList()">
          <div class="div-third-col">{{item.pColumn}}</div>
          <div class="first-div-third-col">{{item.sColumn}}</div>
          <div class="sec-div-third-col">{{item.dataType}}</div>
        </div> -->
      </div>

    


















    </div>
    <div *ngIf="!isSPVAvailable"><h5 style="margin-top: 35%;">
      No Stored Procedures and views information available
    </h5> </div>
    <div class="modal-footer" *ngIf="isSPVAvailable">
      <div class="col-md-7">         
          <div *ngIf="updateSuccess" class="alert alert-success alert-dismissible m-t-6" role="alert">
              <button type="button" class="close" (click)="closeErrorMsg()" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <strong>New Join Added Successfully</strong>
            </div>
            <div *ngIf="updateNotif" class="alert alert-danger alert-dismissible m-t-6" role="alert">
                <button type="button" class="close" (click)="closeErrorMsg()" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                <strong>{{errorMsg}}</strong>
              </div> 
            </div>
    <div class="col-md-5" *ngIf="isSPVAvailable">
        <div class="action-btn">
             <button class="btn mat-raised-button cancel btn-padding" (click)="closeErrorMsg()" data-dismiss="modal">Close</button>
            <button class="btn save btn-padding" [disabled]="disableSubmitBtn" (click)="addSPVJoin();">Add Join</button>
   </div>
  </div>
</div>

  </div>   
  </div>
