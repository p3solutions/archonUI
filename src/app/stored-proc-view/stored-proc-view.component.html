<!-- <div hidden id="openCreateStoredViewmodal" data-toggle="modal" data-target="#modelStoredProcView"></div>
<div class="modal fade " id="modelStoredProcView" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" style="width:600px">
    <div class="modal-content">
      <div class="modal-header">Add Stored Procedures and views
        <button type="button" class="close" data-dismiss="modal" (click)="closeErrorMsg()">&times;</button>        
      </div> 
      <div class="modal-body">
          <h6 class="modal-title"><strong> Primary Table: {{tableName}}</strong></h6>

        <div *ngIf="isSPVAvailable">
        <div class="row" style="display: -webkit-box;">
          <div style="text-transform: uppercase;width:27%"><strong>Stored Procedure(SP)/Views</strong></div>
          <div style="text-transform: uppercase;width:28%"><strong>Relating Tables from SP/View</strong></div>
          <div style="text-transform: uppercase;width: 45%"><strong>Relation between primary and secondary Table</strong></div>
        </div>
        <div class="row">
          <div class="column-one scroll-div border" style="background-color:#fff;">
            <div class="sticky">
              <div><input style="float:left" type="checkbox"></div>
              <div class="first-div">SP/View Name</div>
              <div class="second-div">Type</div>
              <div></div>
            </div>
            <div [ngClass]="{'well-with-blue': item.isBorderSet,'well':!item.isBorderSet,'well-sm':true}" *ngFor="let item of spvInfoListTwo"
              (click)="getTableNameList(item.name)">
              <div><input style="float:left" name="spv{{item.name}}" [(ngModel)]="item.isSPVChecked" (click)="selectSPVName(item.name,$event)" type="checkbox"></div>
              <div class="first-div">{{item.name}}</div>
              <div class="second-div">{{item.type}}</div>
              <div [ngClass]="{'display-icon': !item.isBorderSet}"><i class="fa fa-chevron-right icon-div "></i></div>
            </div>
          </div>
          <div class="column-two scroll-div" style="background-color:#fff;">
            <div class="sticky">
              <div><input style="float:left" type="checkbox"></div>
              <div class="first-div">Table Name</div>
              <div></div>
            </div>
            <div [ngClass]="{'well-with-blue': item.isBorderSet,'well':!item.isBorderSet,'well-sm':true}" *ngFor="let item of spvTableNameList"
              (click)="showSPVRelatedTableName(item)">
              <div><input style="float:left" [(ngModel)]="item.isTableChecked" (change)="selectTableNames(item.tableId)" type="checkbox"></div>
              <div class="first-div-sec-col">{{item.tableName}}</div>
              <div [ngClass]="{'display-icon': !item.isBorderSet}"><i class="fa fa-chevron-right icon-div"></i></div>
            </div>
          </div>
          <div class="column-three scroll-div" style="background-color:#fff;">
            <div class="sticky">
              <div class="div-third-col">Primary column</div>
              <div class="first-div-third-col">Secondary column</div>
              <div class="sec-div-third-col">Data Type</div>
            </div>
            <div class="well well-sm" *ngFor="let item of getRelatingTableList()">
              <div class="div-third-col">{{item.pColumn}}</div>
              <div class="first-div-third-col">{{item.sColumn}}</div>
              <div class="sec-div-third-col">{{item.dataType}}</div>
            </div>
          </div>
          </div>         
        </div>
        <div *ngIf="!isSPVAvailable"><h5>
            No Stored Procedures and views information available
          </h5> </div>
        <div class="modal-footer">
            <div class="col-md-7">         
                <div *ngIf="updateSuccess" class="alert alert-success alert-dismissible m-t-6" role="alert">
                    <button type="button" class="close" (click)="closeErrorMsg()" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                    <strong>New Join Added Successfully</strong>
                  </div>
                  <div *ngIf="updateNotif" class="alert alert-danger alert-dismissible m-t-6" role="alert">
                      <button type="button" class="close" (click)="closeErrorMsg()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                      <strong>{{errorMsg}}</strong>
                    </div> 
                  </div>
          <div class="col-md-5">
              <div class="action-btn">
                   <button class="btn mat-raised-button cancel btn-padding" (click)="closeErrorMsg()" data-dismiss="modal">Close</button>
                  <button class="btn save mat-raised-button btn-padding" [disabled]="disableSubmitBtn" (click)="addSPVJoin();">Add Join</button>
         </div>
        </div>
      </div>
      </div>
    </div>
  </div> -->

  
  <div class="card-body">
    <div class="col-md-12 card-header">
      <div class="col-md-3">
        <div class="card-title">Relationship Info</div>
      </div>
    </div>  
    <div class="body-row">
    <div class="col-md-12" style="margin-bottom: 12px;margin-top: 15px;">
      <div class="back-arrowr" id="da-arrow">
        <a class="arrow" (click)="closeScreen();closeErrorMsg()" mat-tooltip="Back">
          <i class="fa fa-arrow-left fa-lg" aria-hidden="true"></i>
        </a>
      </div>
      <div class="title-header">Stored Procedure (SP) / Views</div>
    </div>    
 
    <div class="container-tab">
      <div class="col-md-12 primary-table">
        <h5 class="card-title sub-headerr">Primary Table :
          <strong>{{tableName}}</strong>
        </h5>
      </div>
    </div>
    <div *ngIf="!isSPVAvailable"><h5 style="margin-top: 35%;">
        No Stored Procedures and views information available
      </h5> </div>
    <div *ngIf="isSPVAvailable"> 
      <div class="column-one scroll-div border">
        <div class="sticky">
          <div><!--<mat-checkbox style="float:left; padding-top: 5px;" (change)="selectAll($event)"></mat-checkbox> --><input style="float:left" type="checkbox" (change)="selectAll($event)"></div> 
          <div class="first-div-new">SP / View Name</div>         
        </div>
        <div [ngClass]="{'well-with-blue': item.isBorderSet,'well':!item.isBorderSet,'well-sm':true}" *ngFor="let item of spvInfoListTwo"
          (click)="getTableNameList(item.name)">
          <div><!--<mat-checkbox style="float:left; padding-top: 2px;" name="spv{{item.name}}" [(ngModel)]="item.isSPVChecked" (click)="selectSPVName(item.name,$event)" id="{{item}}" [checked]="item.selected" class="spvall" type="checkbox"></mat-checkbox> -->
            <input style="float:left" name="spv{{item.name}}" [(ngModel)]="item.isSPVChecked" (click)="selectSPVName(item.name,$event)" type="checkbox"></div>
          <div class="first-div">{{item.name}}</div>
          <div class="second-div">{{item.type}}</div>
          <div [ngClass]="{'display-icon': !item.isBorderSet}"><i class="fa fa-chevron-right icon-div "></i></div>
        </div>
      </div>
      <div class="column-two scroll-div border">
        <div class="sticky">
          <div><input style="float:left; padding-top: 5px;" type="checkbox"></div>
          <div class="first-div-new">Relating Tables</div>         
        </div>
        <div [ngClass]="{'well-with-blue': item.isBorderSet,'well':!item.isBorderSet,'well-sm':true}" *ngFor="let item of spvTableNameList"
          (click)="showSPVRelatedTableName(item)">
          <div><!-- <mat-checkbox style="float:left; padding-top: 2px;" [(ngModel)]="item.isTableChecked" (change)="selectTableNames(item.tableId)"></mat-checkbox> -->
          <input style="float:left" [(ngModel)]="item.isTableChecked" (change)="selectTableNames(item.tableId)" type="checkbox"></div>
          <div class="first-div-sec-col">{{item.tableName}}</div>
          <div [ngClass]="{'display-icon': !item.isBorderSet}"><i class="fa fa-chevron-right icon-div"></i></div>
        </div>
      </div>
      <div class="column-three border">
        <div class="sticky-new">
          <div class="first-div-new" style="margin-left: -8px;">Primary and Secondary Relative Tables</div>         
        </div>

        <!-- <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource"  class="mat-elevation-z4" style="width:99%">
          <ng-container matColumnDef="pColumn" >
            <th mat-header-cell *matHeaderCellDef style="width: 10%; border-top-left-radius: 3px;"> </th>
            <td mat-cell *matCellDef="let element"> {{element.pColumn}} </td>
          </ng-container>

          <ng-container matColumnDef="sColumn">
            <th mat-header-cell *matHeaderCellDef style="width: 10%"> Secondary Column </th>
            <td mat-cell *matCellDef="let element"> {{element.sColumn}} </td>
          </ng-container>

          <ng-container matColumnDef="dataType">
            <th mat-header-cell *matHeaderCellDef style="width: 10%; border-top-right-radius: 3px;"> Data Type </th>
            <td mat-cell *matCellDef="let element"> {{element.dataType}} </td>
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        </div>
        <mat-paginator [length]="columnlength" [pageSize]="5" ></mat-paginator>
      </div> -->
      <div *ngIf="columnlength != 0" class="example-table-container mat-elevation-z8" id="spv-table">
          <table mat-table [dataSource]="dataSource" matSort>
            <ng-container matColumnDef="pColumn">
              <th style="width:35%" mat-header-cell *matHeaderCellDef mat-sort-header> Primary Column  </th>
              <td mat-cell *matCellDef="let element; let i = index;">{{element.pColumn}}</td>
            </ng-container>
            <ng-container matColumnDef="sColumn">
              <th style="width:35%" mat-header-cell *matHeaderCellDef mat-sort-header> Secondary Column </th>
              <td mat-cell *matCellDef="let element"> {{element.sColumn}} </td>
            </ng-container>
            <ng-container matColumnDef="dataType">
              <th style="width:30%" mat-header-cell *matHeaderCellDef mat-sort-header> Data Type </th>
              <td mat-cell *matCellDef="let element"> {{element.dataType}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          <mat-paginator [length]="columnlength" [pageSize]= "7" [pageSizeOptions]="[7, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>
    </div>
    
    <div class="modal-footer" *ngIf="isSPVAvailable">
      <div class="col-md-7">         
          <!-- <div *ngIf="updateSuccess" class="alert alert-success alert-dismissible m-t-6" role="alert">
              <button type="button" class="close" (click)="closeErrorMsg()" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <strong>New Join Added Successfully</strong>
            </div>
            <div *ngIf="updateNotif" class="alert alert-danger alert-dismissible m-t-6" role="alert">
                <button type="button" class="close" (click)="closeErrorMsg()" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                <strong>{{errorMsg}}</strong>
              </div>  -->
            </div>
    <div class="col-md-5" *ngIf="isSPVAvailable">
        <div class="action-btn">
             <button class="btn mat-raised-button cancel btn-padding" (click)="closeScreen();closeErrorMsg()" data-dismiss="modal">Close</button>
            <button class="btn save btn-padding" [disabled]="disableSubmitBtn" (click)="addSPVJoin();">Add Join</button>
   </div>
  </div>
</div>


  </div>   
  </div>

  
<button style="display: none" type="button" id="spvemsg" data-toggle="modal" data-target="#spvermsg">Open Modal</button>
<div class="modal fade" id="spvermsg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">             
  <div class="modal-dialog"  style="width: 480px;">
    <div class="modal-content">
        <div class="error-popup-header-cls">
            <h4 class="popup-title-cls">
              <i class="material-icons popup-material-icon-cls" style="font-size: 22px;margin-top: 3px;">error_outline</i><div class="pop-title" style="margin-left: 0px;margin-top: 3px;">Error</div></h4>
          </div>
          <div class="modal-body">
              <p class="popup-paragraph-cls"> {{errorMsg}} </p>
            </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-padding btn-secondary-popup"  data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-padding btn-error-popup-primary-color" data-dismiss="modal">OK</button>      
      </div>
    </div>
  </div>
</div>


<button style="display: none" type="button" id="spvsmsg" data-toggle="modal" data-target="#spvssmsg">Open Modal</button>
<div class="modal fade" id="spvssmsg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">             
  <div class="modal-dialog"  style="width: 480px;">
    <div class="modal-content">
        <div class="success-popup-header-cls">
            <h4 class="popup-title-cls">
              <i class="material-icons popup-material-icon-cls" style="font-size: 22px;margin-top: 3px;">check_circle_outline</i><div class="pop-title" style="margin-left: 0px;margin-top: 3px;">Success</div></h4>
          </div>
          <div class="modal-body">
              <p class="popup-paragraph-cls"> {{errorMsg}} </p>
            </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-padding btn-success-popup-primary-color" data-dismiss="modal" (click)="closeErrorMsg()">OK</button>      
      </div>
    </div>
  </div>
</div>


