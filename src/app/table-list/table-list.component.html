<div class="row" id="analysis-view">
  <div class="col-md-3" id="table-list">
    <div class="card">
      <div class="card-body">
        <div class="table-list">
          Table List <span [ngClass]="{'archon-loading-icon' : !isAvailable}" id="loading-icon"></span>
        </div>

        <div class='body-left'>
          <a style="z-index:1; margin-right:12px;" class="glyphicon glyphicon-search inner-addon right-addon"></a>
          <input type="text" class="form-control search-input" [(ngModel)]="searchTableName" id="listSearch"
            (keyup)="searchTablelist()" placeholder="Search Table">
        </div>

        <div class="tablename-list da-table-parent">
          <div class="list-group" id="list-tab" role="tablist"
            *ngFor="let table of tableList | paginate: {id: 'tablelist', itemsPerPage: 50, totalItems: schemaResultsTableCount, currentPage: page } | searchTable:searchTableName">
            <button type="button" class="btn btn-default list-group-item da-table" title="{{table.tableName}}"
              (click)="highlightTable($event, true, table); joinTable(table);">
              <div class="overflow-text">{{table.tableName}}
              </div>
              <div class="overflow-text-arrow"> <i class="fa fa-angle-right unselected"></i> </div>
            </button>
          </div>
          <h5 *ngIf="isTablelistAvailable">
            No Tables Available
          </h5>
        </div>
      </div>
      <pagination-controls style="float: right; margin-right: 36px; margin-top: 18px" id="tablelist"
        (pageChange)="getPage(page = $event)"></pagination-controls>
    </div>
  </div>
  <div class="col-md-8 col-md-offset-2.5">
    <div class="card">
      <div class="card-body default-load" *ngIf="defaultModel">
        <h2 class="default-info">Choose one of the listed tables to view relationship information with other tables</h2>
      </div>
      <div class="card-body" *ngIf="!homeStage && !dataAModal">
        <router-outlet></router-outlet>
      </div>
      <div class="card-body" *ngIf="homeStage">
        <div class="col-md-12 card-header">
          <div class="col-md-3">
            <div class="card-title">Relationship Info</div>
          </div>
        </div>
        <div class="col col-md-12" style="margin-top:12px;">
          <!-- <span [ngClass]="{'archon-loading-icon' : !isRelationShipAvailable}" class="icon"></span> -->
          <div class="col-md-4"></div>
          <div class="col col-md-3">
            <mat-form-field>
              <mat-label>Add New Join</mat-label>
              <mat-select>
                <mat-option data-toggle="modal" (click)="adddirectjoin()" data-target="#openAddDirectJoinModal">Direct
                  Join</mat-option>
                <mat-option data-toggle="modal" data-target="#modelStoredProcView">SP/View Join</mat-option>
              </mat-select>
            </mat-form-field>
            <!-- <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Add New Join
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" id="dropdown">
              <li>
                <a href="#" data-toggle="modal" (click)="adddirectjoin()" data-target="#openAddDirectJoinModal">Direct
                  Join</a>
              </li>
              <li>
                <a href="#">Column-Match Join</a>
              </li> 
              <li>
                 <a href="#" data-toggle="modal" data-target="#modelStoredProcView">SP/View Join</a> 
                <a (click)="openStoredProcView()">SP/View Join</a>
              </li>
            </ul> -->
          </div>
          <div class="col col-md-3">
            <mat-form-field>
              <mat-label>Export as</mat-label>
              <mat-select>
                <mat-option (click)="exportxml()">Direct Join</mat-option>
                <mat-option (click)="exportjson()">SP/View Join</mat-option>
              </mat-select>
            </mat-form-field>
            <!-- <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Export As
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" id="dropdown1">
                <li>
                  <a (click)="exportxml()">XML</a>
                </li>
                <li>
                  <a (click)="exportjson()">JSON</a>
                </li>             
              </ul> -->
          </div>
          <div class="col-md-2" style="margin-top: 5px; text-align: right;">
            <button mat-raised-button class="arch-button" (click)="openDataAModal()">Data Analyzer</button>
          </div>
        </div>
        <div class="container-tab">
          <div class="col-md-12 primary-table">
            <h5 class="card-title sub-headerr">Primary Table:
              <strong>{{tableName}}</strong>
            </h5>
          </div>
        </div>
        <!-- <hr> -->
        <div class="row table-headers" *ngIf="isRelationShipAvailable">
          <div class="col col-md-3 sec-width">
            <h5 id="sec-tab">
              <strong>Secondary Table</strong>
            </h5>
          </div>
          <div class="col col-md-3 def-width">
            <h5>
              <strong>Definition Type</strong>
            </h5>
          </div>
          <div class="col col-md-3 conf-width">
            <h5>
              <strong>Config Mode</strong>
            </h5>
          </div>
          <div class="col col-md-3 join-width">
            <h5>
              <strong>Join Name</strong>
            </h5>
          </div>
        </div>
        <h5 *ngIf="!isRelationShipAvailable">
          Currently no relationship information available
        </h5>
        <mat-accordion [multi]="true">
          <div class="items-list" style="padding-left: 0px">
            <mat-expansion-panel #mep="matExpansionPanel" *ngFor="let relation of relationshipInfo;let ind=index;">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <div class="expansion-outer">
                    <div class="expansion-item-sec">{{relation.secondaryTable.tableName}}</div>
                    <div class="expansion-item-def"> {{relation.definitionType}}</div>
                    <div class="expansion-item-def"> {{relation.analysisMode}}</div>
                    <div class="expansion-item-join">{{relation.joinName}}</div>
                    <div class="exp-trash-item">
                      <a data-toggle="modal" href="#confirmDelMemModal" (click)="deleteRelationship(ind)">
                        <i class="material-icons" style="font-size: 23px"
                          *ngIf="serviceActionType === 'WRITE' || serviceActionType === 'ALL'">delete
                        </i>
                      </a>
                    </div>
                  </div>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div>
                <div class="exp-content-outer border-top-line">
                  <div class="exp-mat-item">
                    <strong>Primary Table Column</strong>
                  </div>
                  <div class="exp-mat-item">
                    <strong>Secondary Table Column</strong>
                  </div>
                </div>
                <div class="exp-content-outer" *ngFor="let x of relation.joinListInfo">
                  <div class="exp-mat-item">{{x.primaryColumn.columnName}}</div>
                  <div class="exp-mat-item">{{x.secondaryColumn.columnName}}</div>
                </div>
                <div class="action-btn">
                  <button class="mat-raised-button cancel btn-primary btn-padding"
                    (click)="mep.expanded = !mep.expanded">Close</button>
                  <button class="save mat-raised-button btn-padding" data-toggle="modal" data-keyboard="false" data-backdrop="static"
                    data-target="#openEditRelationshipModal" (click)="openEditRelationship(relation)">Edit</button>
                </div>
              </div>
            </mat-expansion-panel>
          </div>
        </mat-accordion>
      </div>
      <app-edit-relationship-info class="modal fade" (updateEvent)="refreshRelation($event)"
        id="openEditRelationshipModal" [relation]="editValues" [workspaceID]="workspaceID" role="dialog">
      </app-edit-relationship-info>
      <!-- Data Analyzer -->
      <div *ngIf="dataAModal" class="">
        <div class=" {{newWSinfo ? 'msg-modal' : ''}}" role="worskspace">
          <div class="text-left">
            <div class="modal-header" id="arch-hdr">
              <div class="back-arrowr">
                <a class="arrow" (click)="gotoBack()" mat-tooltip="Back">
                  <i class="fa fa-arrow-left fa-lg" aria-hidden="true"></i>
                </a>
              </div>
               <div class="col-md-5 analyze-header">Data Analyzer</div>
               
            </div>
            <div class="modal-body row">

              <div class="bdy-hdr">
                <h5 class="card-title sub-headerrs">Primary Table:
                  <strong>{{tableName}}</strong>
                </h5>
              </div>
              <div class="mat-step-data-analyzer" *ngIf="!newWSinfo">
                <mat-horizontal-stepper linear #stepper labelPosition="bottom">
                  <mat-step label="Primary Table Selection">
                    <div class="panel-body dataA-panel-body">
                      <div class="col-md-12">
                        <div class="col-md-6">
                          Percentage of Rows to consider for Analysis
                          <input mat-input type="number" [(ngModel)]="analysisRowCount" min="1" max="100">
                        </div>
                      </div>
                      <div class="col-md-12 mar-1x" style="margin-left: 18px;">
                        {{selectedPrimColMap.size}} out of {{primColArray.length}} selected
                      </div>
                      <div class="col-md-6 dataA-scrollable-div" id="panel-0">
                        <div class="col-md-12">
                          <div class="col-md-12 ana-br" title="Primary Column">
                            <input type="checkbox" style="margin-right: 10px;" (change)="selectAll()">
                            Primary Column
                            <span class="col-loader"
                              [ngClass]="{'archon-loading-icon' : primColArray.length === 0}"></span>
                          </div>
                          <!-- <div class="col-md-4 tabular-div-column column-header" title="Suggestion">
                                Suggestion
                              </div> -->
                        </div>
                        <div class="col-md-12 list-block">
                          <div class="col-md-12 plr-0"
                            *ngFor="let pColumn of primColArray | paginate: {id: 'dalist0', itemsPerPage: 50, totalItems: schemaResultsTableCount, currentPage: page }">
                            <div class="col-md-12 trim-text ana-br" id="list-br" title="{{pColumn.column_name}}">
                              <input id="{{pColumn}}" type="checkbox"
                                (change)="toggleColSelection($event, true, pColumn)" class="m-r-10">
                              {{pColumn.columnName}}
                            </div>
                            <!-- <div class="col-md-4 tabular-div-column" title="">
                                  {{pColumn.confidence_score ? pColumn.confidence_score : 0}} %
                                </div> -->
                          </div>
                        </div>
                      </div>
                      
                    </div>
                    <div class="col-md-5" style="text-align: right;">
                      <pagination-controls id="dalist0" (pageChange)="getPage(page = $event)"></pagination-controls>
                    </div>
                    <div id="action-btn" class="action-btn-connection" style="float: right;">
                      <button type="button"  [disabled]="selectedPrimColMap.size===0" (click)="gotoSecTableAndColSelection($event,stepper)" class="btn save btn-primary btn-padding matStepperNext">Next</button>
                    </div>
                  </mat-step>
                  <mat-step label="Secondary Table Selection">
                      <div class="panel-body dataA-panel-body" id="panel-1">
                          <div class="col-md-12 mar-1x">
                            <div class="col-md-9 p-0">
                              <div class="">
                                Percentage of Rows to consider for Analysis
                                <input mat-input type="number" class="m-l-10" [(ngModel)]="analysisRowCount" min="1"
                                  max="100">
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6" style="height: 295px;">
                            <div class="col-md-12 mar-1x">
                              {{selectedSecTbl.size}} out of {{secTblArray.length - 1}} selected
                            </div>
                            <div class="col-md-8 p-0 dataA-scrollable-div">
                              <div class="col-md-12 p-0">
                                <div class="col-md-12 ana-br" title="Secondary Column">
                                  Secondary Table
                                </div>
                              </div>
                              <div class="da-table-parent">
                                <div class="col-md-12 p-0 "
                                  *ngFor="let secTbl of secTblArray | paginate: {id: 'dalist1', itemsPerPage: 50, totalItems: schemaResultsTableCount, currentPage: page }; let i=index"
                                  [hidden]="secTbl.tableName === selectedPrimTbl">
                                  <div class="col-md-12 cur-p da-table trim-text ana-br" id="list-br"
                                    title="{{secTbl.tableName}}" (click)="highlightTable($event, false, secTbl)">
                                    <input id="{{prefixSecTblId + (secTbl.tableName)}}" class="cb-{{i}}" type="checkbox"
                                      (change)="toggleSecTblSelection($event, secTbl)" class="m-r-10">
                                    {{secTbl.tableName}}
                                    <i class="fa fa-angle-right unselected"></i>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-12" style="margin-left: 94px;margin-top: 18px;">
                              <pagination-controls id="dalist1" (pageChange)="getPage(page = $event)"></pagination-controls>
                            </div>
                          </div>
    
                          <div *ngIf="secColArray.length > 0" class="col-md-6">
                            <div class="col-md-12 mar-1x">
                              {{selectedSecColMap.size}} out of {{secColArray.length}} selected
                            </div>
                            <div class="col-md-8 p-0 dataA-scrollable-div" id="panel-1">
                              <div class="col-md-12 p-0">
                                <div class="col-md-12 column-header ana-br" title="Secondary Column">
                                  <input type="checkbox" style="margin-right: 10px;" (change)="selectAllSec()">
                                  Secondary Columns
                                  <span class="col-loader"
                                    [ngClass]="{'archon-loading-icon' : secColArray.length === 0}"></span>
                                </div>
                                <!-- <div class="col-md-4 tabular-div-column column-header" title="Suggestion">
                                    Suggestion
                                  </div> -->
                              </div>
                              <div class="col-md-12 p-0"
                                *ngFor="let sColumn of secColArray | paginate: {id: 'dalist2', itemsPerPage: 50, totalItems: schemaResultsTableCount, currentPage: page }; let i=index"
                                id="secondaryColums">
                                <div class="col-md-12  trim-text ana-br" id="list-br" title="{{sColumn.columnName}}">
                                  <input id="{{SecondaryTableName + secTblColJoiner + sColumn.columnName}}" class="cb"
                                    type="checkbox" (change)="toggleColSelection($event, false, sColumn)"
                                    checked="{{sColumn.selected ? 'checked' : null}}" class="m-r-10 m-r-sec">
                                  {{sColumn.columnName}}
                                </div>
                                <!-- <div class="col-md-4 tabular-div-column" title="">
                                    {{sColumn.confidence_score ? sColumn.confidence_score : 0}} %
                                  </div> -->
                              </div>
                            </div>
                            <div class="col-md-12" style="margin-left: 94px;margin-top: 18px;">
                              <pagination-controls id="dalist2" (pageChange)="getPage(page = $event)"></pagination-controls>
                            </div>
                            <!-- <div class="col-md-12 text-danger">Note: Kindly Select the Secondary Tables Before Columns</div> -->
                          </div>
                        </div>
                    <div id="action-btn" style="float: right;">
                      <button (click)="gotoPrimarySel($event,stepper)" class="btn btn-primary cancel matStepperPrevious btn-padding"  id="cancel-btn">Previous</button>
                      <button (click)="gotoAnalyze($event,stepper)" [disabled]="finalSecColMap.size===0" class="btn save btn-primary btn-padding matStepperNext" style="margin-left:10px;">Next</button>
                    </div>
                  </mat-step>
                  <mat-step label="Analysis">
                      <div class="panel-body dataA-panel-body" id="panel-1">
                          <div class="col-md-4 dataA-scrollable-div-A">
                            <table class="table table-bordered">
                              <thead>
                                <tr>
                                  <th>Primary Table Columns</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let x of finalPrimColArray">
                                  <td>{{x.columnName}}</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="col-md-4 dataA-scrollable-div-A">
                            <table class="table table-bordered" id="finalSecTab">
                              <thead>
                                <tr>
                                  <th>Secondary Tables</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr class="pointer" [class.active]="i == selectedRow"
                                  *ngFor="let x of finalSecondaryTableList; let i = index" (click)="finalSecCol(x,i)">
                                  <td>{{x.tableName}}</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="col-md-4 dataA-scrollable-div-A">
                            <table class="table table-bordered">
                              <thead>
                                <tr>
                                  <th>Secondary Column Names</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let x of finalSecColArray">
                                  <td>{{x.columnName}}</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <div id="action-btn" style="float: right;">
                            <button (click)="gotoSecTableAndColSelection($event,stepper)" class="btn btn-primary cancel matStepperPrevious btn-padding" id="cancel-btn">Previous</button>
                            <button (click)="dataAnalyse()" class="btn save btn-primary btn-padding matStepperNext" style="margin-left: 10px">Analyze</button>
                          </div>
                  </mat-step>
                  <mat-step label="Result">
                      <div class="panel-body dataA-panel-body" id="panel-1">
                          <div class="col-md-12 center-dev">
                            <div class="col-md-6"><strong>Analysis Status:</strong>
                              {{JobStatus}}
                            </div>
                            <div class="col-md-6 ">
                              <div class="col-md-3 "></div>
                              <div class="col-md-3 ">
                                <a (click)="getJobStatus()" data-tooltip="refresh"><i class="fa fa-refresh"></i></a>
                                <i class="fa fa-stop" style="color: darkred;margin-left: 24px"></i>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-12 centered">
                            <div class="progress">
                              <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                                In Progress
                              </div>
                            </div>
                          </div>
                        </div>
                  </mat-step>
                </mat-horizontal-stepper>
              </div>

              <!-- carousel 
            <div id="dataAModal-carousel" class="carousel slide" data-ride="carousel" data-interval="false"
                style="margin-top: 60px;">
                 Indicators 
                <ul *ngIf="newWSinfo" class="multi-step-bars">
                  <li>
                    <span id="progress-bar" class="bar-expand width-5-pc"></span>
                    <div class="col-md-4 text-center">Primary Column</div>
                    <div class="col-md-4 text-center">Secondary Table &#38; Column selection</div>
                    <div class="col-md-4 text-center">Data Analysis</div>
                  </li>
                </ul>

                <ol class="only carousel-indicators hide">
                  <li data-target="#createWSModal-carousel" data-slide-to="0" class="active"></li>
                  <li data-target="#createWSModal-carousel" data-slide-to="1"></li>
                  <li data-target="#createWSModal-carousel" data-slide-to="2"></li>
                  <li data-target="#createWSModal-carousel" data-slide-to="3"></li>
                </ol>
                 Wrapper for slides 
                <div class="carousel-inner" role="listbox">

                 DA UI 1 
                  <div step="0" class="item active form-group">
                    <div class="col-md-12">
                      <div class="col-md-12" style="float: right;">
                        Percentage of Rows to consider for Analysis
                        <input mat-input type="number" [(ngModel)]="analysisRowCount" min="1" max="100">
                      </div>
                    </div>
                    <div class="panel-body dataA-panel-body">
                      <div class="col-md-12 mar-1x" style="margin-left: 18px;">
                        {{selectedPrimColMap.size}} out of {{primColArray.length}} selected
                      </div>
                      <div class="col-md-6 dataA-scrollable-div" id="panel-0">
                        <div class="col-md-12">
                          <div class="col-md-12 ana-br" title="Primary Column">
                            <input type="checkbox" (change)="selectAll()">
                            Primary Column
                            <span class="col-loader"
                              [ngClass]="{'archon-loading-icon' : primColArray.length === 0}"></span>
                          </div>
                           <div class="col-md-4 tabular-div-column column-header" title="Suggestion">
                            Suggestion
                          </div> 
                        </div>
                        <div class="col-md-12 list-block">
                          <div class="col-md-12 plr-0"
                            *ngFor="let pColumn of primColArray | paginate: {id: 'dalist0', itemsPerPage: 50, totalItems: schemaResultsTableCount, currentPage: page }">
                            <div class="col-md-12 trim-text ana-br" id="list-br" title="{{pColumn.column_name}}">
                              <input id="{{pColumn}}" type="checkbox"
                                (change)="toggleColSelection($event, true, pColumn)" class="m-r-10">
                              {{pColumn.columnName}}
                            </div>
                             <div class="col-md-4 tabular-div-column" title="">
                              {{pColumn.confidence_score ? pColumn.confidence_score : 0}} %
                            </div> 
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6" style="text-align: right; margin-left: -80px;">
                      <pagination-controls id="dalist0" (pageChange)="getPage(page = $event)"></pagination-controls>
                    </div>

                  </div>

                  <div step="1" class="item form-group second second-last">
                    <div class="panel-body dataA-panel-body" id="panel-1">
                      <div class="col-md-12 mar-1x">
                        <div class="col-md-9 p-0">
                          <div class="">
                            Percentage of Rows to consider for Analysis
                            <input mat-input type="number" class="m-l-10" [(ngModel)]="analysisRowCount" min="1"
                              max="100">
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6" style="height: 295px;">
                        <div class="col-md-12 mar-1x">
                          {{selectedSecTbl.size}} out of {{secTblArray.length - 1}} selected
                        </div>
                        <div class="col-md-8 p-0 dataA-scrollable-div">
                          <div class="col-md-12 p-0">
                            <div class="col-md-12 ana-br" title="Secondary Column">
                              Secondary Table
                            </div>
                          </div>
                          <div class="da-table-parent">
                            <div class="col-md-12 p-0 "
                              *ngFor="let secTbl of secTblArray | paginate: {id: 'dalist1', itemsPerPage: 50, totalItems: schemaResultsTableCount, currentPage: page }; let i=index"
                              [hidden]="secTbl.tableName === selectedPrimTbl">
                              <div class="col-md-12 cur-p da-table trim-text ana-br" id="list-br"
                                title="{{secTbl.tableName}}" (click)="highlightTable($event, false, secTbl)">
                                <input id="{{prefixSecTblId + (secTbl.tableName)}}" class="cb-{{i}}" type="checkbox"
                                  (change)="toggleSecTblSelection($event, secTbl)" class="m-r-10">
                                {{secTbl.tableName}}
                                <i class="fa fa-angle-right unselected"></i>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-12" style="margin-left: 94px;margin-top: 18px;">
                          <pagination-controls id="dalist1" (pageChange)="getPage(page = $event)"></pagination-controls>
                        </div>
                      </div>

                      <div *ngIf="secColArray.length > 0" class="col-md-6">
                        <div class="col-md-12 mar-1x">
                          {{selectedSecColMap.size}} out of {{secColArray.length}} selected
                        </div>
                        <div class="col-md-8 p-0 dataA-scrollable-div" id="panel-1">
                          <div class="col-md-12 p-0">
                            <div class="col-md-12 column-header ana-br" title="Secondary Column">
                              <input type="checkbox" (change)="selectAllSec()">
                              Secondary Columns
                              <span class="col-loader"
                                [ngClass]="{'archon-loading-icon' : secColArray.length === 0}"></span>
                            </div>
                            <!-- <div class="col-md-4 tabular-div-column column-header" title="Suggestion">
                                Suggestion
                              </div> 
                          </div>
                          <div class="col-md-12 p-0"
                            *ngFor="let sColumn of secColArray | paginate: {id: 'dalist2', itemsPerPage: 50, totalItems: schemaResultsTableCount, currentPage: page }; let i=index"
                            id="secondaryColums">
                            <div class="col-md-12  trim-text ana-br" id="list-br" title="{{sColumn.columnName}}">
                              <input id="{{SecondaryTableName + secTblColJoiner + sColumn.columnName}}" class="cb"
                                type="checkbox" (change)="toggleColSelection($event, false, sColumn)"
                                checked="{{sColumn.selected ? 'checked' : null}}" class="m-r-10 m-r-sec">
                              {{sColumn.columnName}}
                            </div>
                           <div class="col-md-4 tabular-div-column" title="">
                                {{sColumn.confidence_score ? sColumn.confidence_score : 0}} %
                              </div> 
                          </div>
                        </div>
                        <div class="col-md-12" style="margin-left: 94px;margin-top: 18px;">
                          <pagination-controls id="dalist2" (pageChange)="getPage(page = $event)"></pagination-controls>
                        </div>
                        <div class="col-md-12 text-danger">Note: Kindly Select the Secondary Tables Before Columns</div> 
                      </div>
                    </div>
                  </div>

                  <div step="2" class="item form-group third">
                    <div class="panel-body dataA-panel-body" id="panel-1">
                      <div class="col-md-4 dataA-scrollable-div-A">
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>Primary Table Columns</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let x of finalPrimColArray">
                              <td>{{x.columnName}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="col-md-4 dataA-scrollable-div-A">
                        <table class="table table-bordered" id="finalSecTab">
                          <thead>
                            <tr>
                              <th>Secondary Tables</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr class="pointer" [class.active]="i == selectedRow"
                              *ngFor="let x of finalSecondaryTableList; let i = index" (click)="finalSecCol(x,i)">
                              <td>{{x.tableName}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="col-md-4 dataA-scrollable-div-A">
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>Secondary Column Names</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let x of finalSecColArray">
                              <td>{{x.columnName}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>

                  <div step="3" class="item form-group final">
                    <div class="panel-body dataA-panel-body" id="panel-1">
                      <div class="col-md-12 center-dev">
                        <div class="col-md-6"><strong>Analysis Status:</strong>
                          {{JobStatus}}
                        </div>
                        <div class="col-md-6 ">
                          <div class="col-md-3 "></div>
                          <div class="col-md-3 ">
                            <a (click)="getJobStatus()" data-tooltip="refresh"><i class="fa fa-refresh"></i></a>
                            <i class="fa fa-stop" style="color: darkred;margin-left: 24px"></i>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12 centered">
                        <div class="progress">
                          <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                            aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                            In Progress
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="item form-group message">
                  </div> 

                Controls
                  <a hidden class="left carousel-control" id="prev-slide" href="#dataAModal-carousel" role="button"
                    data-slide="prev">
                    <span class="sr-only">Previous</span>
                  </a>
                  <a hidden class="right carousel-control" id="next-slide" href="#dataAModal-carousel" role="button"
                    data-slide="next">
                    <span class="sr-only">Next</span>
                  </a>
                </div>
                / end of Carousel 
              </div>
              <div class="modal-footer {{newWSinfo ? 'msg-footer' : ''}}">
                 <button type="button" id="cancel-btn" class="btn btn-secondary cancel" data-dismiss="modal">Cancel</button> 
                <button type="button" id="prev-btn" class="btn btn-primary hide"
                  (click)="prevStep($event)">Previous</button>
                <button type="button" id="next-btn" class="btn btn-primary" (click)="nextStep($event)"
                  disabled="{{enableNextBtn ? null : 'disabled'}}">&nbsp;&nbsp;&nbsp;Next&nbsp;&nbsp;&nbsp;</button>
                <button type="button" id="analyse-btn" class="btn btn-primary hide" href="#dataAModal-carousel"
                  data-slide="next" (click)="dataAnalyse()">Analyse</button>
                <button type="button" id="close-btn" class="btn btn-primary hide" (click)="gotoBack()">Close</button>
                 <button type="button" id="ok-btn" class="btn btn-primary hide" (click)="resetCarousel()">Done</button> -->
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- relationship delete -->
  <div class="modal fade" id="confirmDelMemModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document" style="top: 25%; width: 500px;">
      <div class="modal-content text-left">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" (click)="closeErrorMsg()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title">Delete</h4>
        </div>
        <div class="modal-body text-center" style="height: 100px;">
          Are you sure?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary cancel" (click)="closeErrorMsg()"
            data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" (click)="confirmDelete()"
            disabled="{{delProgress ? 'true' : null }}">Confirm
            <span [ngClass]="{'archon-loading-icon' : delProgress}"></span>
          </button>
          <div *ngIf="deleteNotif?.show" class="alert alert-danger alert-dismissible m-t-10" role="alert">
            <button type="button" class="close" (click)="closeErrorMsg()" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <strong>Error!</strong> {{deleteNotif?.message}}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <app-stored-proc-view class="modal fade" id="modelStoredProcView" data-backdrop="static" data-keyboard="false"></app-stored-proc-view> -->
  <ng-template #storedprocView></ng-template>
  <div *ngIf="addDirectjoin">
    <app-add-direct-join class="modal fade" id="openAddDirectJoinModal" [directJoin]="joinValues"
      [workspaceID]="workspaceID" (updateEvent)="refreshRelation($event)" role="dialog" data-backdrop="static"
      data-keyboard="false"></app-add-direct-join>
  </div>


  <button style="display:none" type="button" id="successPop" class="btn btn-info btn-lg" data-keyboard="true"
    data-backdrop="static" data-toggle="modal" data-target="#confirmCancelInvite">Open Modal</button>
  <div id="confirmCancelInvite" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header adhoc-modal-header">
          <h4 class="modal-title">Alert</h4>
        </div>
        <div class="modal-body">
          <p>{{message}}</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary btn-padding btn-transform adhoc-modal-btn"
            data-dismiss="modal">Ok</button>
        </div>
      </div>
    </div>