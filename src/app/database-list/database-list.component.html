    <div class="row">
      <div class="col-md-6" style="height: 45px;">
        <div class="col-md-1 back-arrow" style="margin-left: 10px">
          <a (click)="gotoManagementPanel()" data-tooltip="Back">
            <i class="fa fa-arrow-left fa-lg" aria-hidden="true"></i>
          </a>
        </div>
        <div class="col-md-8" style="margin-left: -25px">
          <h3 class="workspace-panel-heading">
            Databases
          </h3>
        </div>
      </div>  
    </div>
    <div class="col-md-12">
      <div class="col-md-4" style="width: 37.495%"></div>
      <div class="col-md-3 one one-width">
          <div class="button-wrap" (click)="toggle()" [ngClass]="{'button-active' : toggleBoolean}">
            <div class="button-bg">
              <div class="button-out index">Databases</div>
              <div class="button-in index" *ngIf="allowToggle">Pending Approval</div>
              <div class="button-in index" *ngIf="!allowToggle" matTooltip="Access Denied" style="cursor: not-allowed">Pending Approval</div>
              <div class="button-switch"></div>
            </div>
          </div>
        </div>
          <div class="col-md-5" style="width: 37.495%"></div>
    </div>
    <div *ngIf="!toggleBoolean"> 
    <div class="col-md-6"></div>
    <div class="col-md-1"></div>
    <div class="col-md-5">
        <div class="col-md-3"></div>
        <div class="col-md-9 search" style="margin-top: -20px">
            <mat-form-field class="search-width">
              <input matInput [(ngModel)]="searchText" placeholder="Search">
            </mat-form-field>
            <a style="font-size: 42px" (click)="openCreateAddDBmodal()" matTooltip="Add Database" *ngIf="allowToggle"><i class="material-icons plus col">
            </i></a>
          </div>
    </div>
<div class="pl-20">
  <div class="flex-container" *ngFor="let db of dbListActions| searchTable: searchText;let indRow = index; let last = last">
    <mat-card class="example-card">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title class="header">{{db?.profileName}} <a (click)="viewDBmodal(db)" data-toggle="modal" href="#db-profile-model" data-tooltip="Details"><i class="fa fa-info-circle fa-1x" aria-hidden="true"></i></a></mat-card-title>
        <div class="spacer"></div>       
        <a (click)="DBdelete(db?.id)" data-toggle="modal" href="#confirm_model" data-tooltip="Delete"><i class="material-icons">
            delete
            </i></a>
      </mat-card-header>
      <mat-card-content class="content">
        <div class='body-left'>Host</div><div class='body-center'>:</div><div class='body-right'>{{db?.host}}</div>
        <div class='body-left'>Owner</div><div class='body-center'>:</div><div class='body-right'>{{db?.owner.name}}</div>
        <div class='body-left'>Server Type</div><div class='body-center'>:</div><div class='body-right'>{{db?.type}}</div>
      </mat-card-content>
    </mat-card> 
  </div>
  </div>
  </div>
  <ng-template #createNewDatabaseWizard></ng-template>

  <div id="db-profile-model" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
            <div class='model-title'><i class="fa fa-tachometer"></i><div class='info-r'>Database Profile</div></div>
        </div>
        <div class="modal-body">
          <table class="table table-hover">
            <thead></thead>
            <tbody>
              <tr>
                <td class="tdl">Database Profile Name</td>
                <td>{{configuredDB?.profileName}}</td>
              </tr>
              <tr>
                <td class="text-left tdl">Database Type</td>
                <td class="tdr">{{configuredDB?.type}}</td>
              </tr>
              <tr>
                <td class="tdl">Database Host/Ip</td>
                <td class="tdr">{{configuredDB?.host}}</td>
              </tr>
              <tr>
                <td class="tdl">Database Port</td>
                <td class="tdr">{{configuredDB?.port}}</td>
              </tr>
              <tr>
                <td class="tdl">Database Name</td>
                <td class="tdr">{{configuredDB?.databaseName}}</td>
              </tr>
              <tr>
                <td class="tdl">Database Schema</td>
                <td class="tdr">{{configuredDB?.schemaName}}</td>
              </tr>
              <tr>
                <td class="tdl">Database User Name</td>
                <td class="tdr">{{configuredDB?.userName}}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default cancel" data-dismiss="modal">Close</button>
        </div>
      </div>
  
    </div>
    </div>

    <div *ngIf="toggleBoolean" style="padding-top: 45px;">
      <div class="col-md-12">
        <div class="col-md-9"></div>
        <div class="col-md-3">
          <mat-form-field class="search-wid">
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
          </mat-form-field>
        </div>
      </div>
      <div class="mat-elevation-z4" id="char-table">
        <table mat-table [dataSource]="dataSource" matSort>
          <ng-container matColumnDef="DB Profile Name">
            <th style="width:15%" mat-header-cell *matHeaderCellDef mat-sort-header> DB Profile Name </th>
            <td style="width:15%" mat-cell *matCellDef="let element; let i = index;">{{element?.dbProfileName}}</td>
          </ng-container>
          <ng-container matColumnDef="Workspace Name">
            <th style="width:15%" mat-header-cell *matHeaderCellDef mat-sort-header>Workspace Name</th>
            <td style="width:15%" mat-cell *matCellDef="let element"> {{element?.workspaceName}} </td>
          </ng-container>
          <ng-container matColumnDef="Workspace Owner">
            <th style="width:15%" mat-header-cell *matHeaderCellDef mat-sort-header> Workspace Owner </th>
            <td style="width:15%" mat-cell *matCellDef="let element"> {{element?.workspaceOwnerName}} </td>
          </ng-container>
          <ng-container matColumnDef="Comments">
            <th style="width:45%" mat-header-cell *matHeaderCellDef> Comments </th>
            <td style="width:45%" mat-cell *matCellDef="let element"> {{element?.reason}} </td>
          </ng-container>
          <ng-container matColumnDef="Approve">
            <th style="width:10%" mat-header-cell *matHeaderCellDef> Approve </th>
            <td style="width:10%" class="cursor-pointer" mat-cell  *matCellDef="let element"><i class="material-icons" (click)="openModal(element, 'Approve')" matTooltip="Approve" data-toggle="modal" href="#approval-modal">
                check_box
                </i>
            </td>
          </ng-container>
          <ng-container matColumnDef="Reject">
            <th style="width:10%" mat-header-cell *matHeaderCellDef> Reject </th>
            <td style="width:10%" class="cursor-pointer" mat-cell  *matCellDef="let element"><i class="material-icons reject" matTooltip="Reject" (click)="openModal(element, 'Reject')" data-toggle="modal" href="#approval-modal">
                block
                </i>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
      </div>
    </div>


    <div id="approval-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
            <div class='model-title' *ngIf="heading == 'Approval Confirmation'"><i class="fa fa-check-square-o fa-lg"></i><div class='info-r'>{{heading}}</div></div>
            <div class='model-title' *ngIf="heading == 'Rejection Confirmation'"><i class="fa fa-ban fa-lg reject"></i><div class='info-r'>{{heading}}</div></div>
        </div>
        <div class="modal-body">
    <div class="content contentcolor">
              <div class='body-left margin-5'>Database Profile Name</div><div class='body-center'>:</div><div class='body-right body-rightc'>{{element?.dbProfileName}}</div>
              <div class='body-left margin-5'>Workspace Name</div><div class='body-center'>:</div><div class='body-right body-rightc'>{{element?.workspaceName}}</div>
              <div class='body-left margin-5'>Workspace Owner</div><div class='body-center'>:</div><div class='body-right body-rightc'>{{element?.workspaceOwnerName}}</div>
              <div class='body-left margin-5'>Comment</div><div class='body-center'>:</div><div class='body-right body-rightc'>{{element?.reason}}</div>
          </div>
          <div class="reason" style="padding-top: 10px;">
            <div class="col-md-12" *ngIf="heading == 'Rejection Confirmation'">
                <mat-form-field class="search-wid">
                    <textarea matInput placeholder="Reason for Rejection" [(ngModel)]="reason"></textarea>
                  </mat-form-field>
            </div>
            <div class="col-md-12" *ngIf="heading == 'Approval Confirmation'">
                <mat-form-field class="search-wid">
                    <textarea matInput placeholder="Reason for Approval" [(ngModel)]="reason"></textarea>
                  </mat-form-field>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default cancel bgchange" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-default cancel" data-dismiss="modal" (click)="submit('REJECTED')" *ngIf="heading == 'Rejection Confirmation'">Reject</button>
          <button type="button" class="btn btn-default cancel" data-dismiss="modal" (click)="submit('APPROVED')" *ngIf="heading == 'Approval Confirmation'">Approve</button>
          <button type="button" style="display: none" id="reload" (click)="getConfigDBList()"></button>
        </div>
      </div>
  
    </div>
    </div>

    <div id="confirm_model" class="modal fade" role="dialog">
        <div class="modal-dialog">
          <div class="modal-content" style="width: 430px;">
            <div class="modal-header">
              <div class='model-title'><div class='info-r'>Confirm Database Delete</div></div>
          </div>
            <div class="modal-body">
             <p style="text-align:left; padding: 25px;">Are you sure ?</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default cancel" data-dismiss="modal">NO</button>
              <button type="button" class="btn btn-default cancel" (click)="deleteDB()" data-dismiss="modal">YES</button>          
            </div>
          </div>
        </div>
      </div>

      <button style="display: none" type="button" id="deletemsg" data-toggle="modal" data-target="#deletemessage">Open Modal</button>
      <div id="deletemessage" class="modal fade" role="dialog">
        <div class="modal-dialog">
          <div class="modal-content" style="width: 430px;">
            <div class="modal-header">
              <div class='model-title'><div class='info-r'> Database Delete</div></div>
          </div>
            <div class="modal-body">
             <p *ngIf="success" style="text-align:left; padding: 25px;"> {{successmsg}}. please check after 15 seconds.</p>
             <p *ngIf="error" style="text-align:left; padding: 25px;"> {{errormsg}}</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default cancel" (click)="closeErrorMsg()" data-dismiss="modal">CLOSE</button>          
            </div>
          </div>
        </div>
      </div>
 